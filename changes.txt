CPS1PSP/CPS2PSP/MVSPSP 変更点

1.62
<CPS2PSP>
・スプライトのマスキング処理を正しくエミュレーションで行うよう変更。
  1.61までは、romcnv_cps2.exeで先に作成しておいたフラグを使用して処理を
  行っていましたが、この変更により必要なくなりました。
  もし、これまで修正漏れのマスキング処理があったとしても、今回の変更に
  より直ったのではないかと思います。

・上記に伴い、romcnv_cps2.exeをver.9.1に更新。
  不要になったコードを削除し、hsf2aのキャッシュファイル作成を解禁した
  だけなので、キャッシュファイルを再作成する必要はありません。

・Hyper Street Fighter II: The Anniversary Edition (Phoenix Edition)を
  動作可能にしました。bootleg(Hack?)なので、通常のコンパイルでは削除
  されます。makefileのRELEASEフラグを無効にしてコンパイルしてください。
  ※hsf2dを有効にしたバイナリは、個人使用にとどめてください。

----------------------------------------------------------------------
1.61
<CPS2PSP>
・X-MEN VS. Street Fighterで床が破壊されて落下したあと、画面が正常に
  表示されなくなっていたバグを修正。

----------------------------------------------------------------------
1.60
<CPS2PSP>
・無圧縮のキャッシュファイルの形式を再変更。
  遅くなったと感じる場合があったようですが、おそらく原因は半端なサイズの
  ヘッダが付いたために、データがFATのクラスタの途中から始まってしまうように
  なってしまったことが原因のようです。
  対応策としてromcnv_cps2.exeをver.9に更新し、無圧縮キャッシュファイルの
  データのファイル内部の位置を64KBに合わせて配置するように変更しました。
  お手数ですが無圧縮キャッシュは再度作成してください。
  (ver.8で作成したものはバージョン不一致で読み込みません)
・ラインスクロール描画のコードを最適化。ソースコードも処理を簡略化しました。

<CPS1PSP>
・描画処理のコードの処理をCPS2PSPと同様に簡略化しました。

<MVSPSP>
・リフレッシュレートを60Hzから実機と同じ59.1856Hzに変更。
  以前よりはサウンドと画面の同期が取れるようになったかもしれません。
  その影響でFPSの表示が59が上限になります。また、定期的に57fpsくらいに
  下がったりしますが、計算上の誤差なので気にしないようにしてください。
・上記変更に伴い、State Dataのバージョンを更新。以前とは互換性がありません。

-------------------------------------------------------------------------------
1.51
・CPS2PSPの無圧縮のキャッシュファイルの形式を変更。
  romcnv_cps2.exeをver.8に更新。
・MVSPSPでmslug4他が正常に動作するようになったと思われます。
  最後の修正です。もう手を付けたくないです。

1.51.1 - バイナリ配布最終版
・MVSPSPでmemcardフォルダが自動的に作成されなかったので修正。
・MVSPSPでDEBUG BIOS使用時に画面が化けていたバグを修正。

1.51.2
・MVSPSPでstate load時にFIX bankを再設定し忘れていたので修正。

-------------------------------------------------------------------------------
1.50
・MVSPSPの最終的な調整。
  MVSPSPはもうあまりいじる気はないので、バグがあったら各自で修正を。

-------------------------------------------------------------------------------
1.42
・MVSPSPのサウンドを修正。

-------------------------------------------------------------------------------
1.41
・MVSPSPのスプライト描画のバグを修正。
・公開するバイナリからサウンドテストを削除。
・日本語フォント読み込み処理を少し変更。

-------------------------------------------------------------------------------
1.40
・MVSPSPを更新。キャッシュファイルの形式を変更、PCMキャッシュに対応
  し、全てのゲームでサウンドをサポート。
・CPS1PSP/CPS2PSPは特に変更はありません。

-------------------------------------------------------------------------------
1.30
・フォルダに展開した無圧縮のキャッシュファイルに対応。

-------------------------------------------------------------------------------
1.21
・ストリートファイターZERO3のマスキング処理のチェックを以前のものに戻しました。
  全部チェックしてるわけじゃないので、気付かず。

-------------------------------------------------------------------------------
1.20
・スプライト管理処理を書き直したところ、予想していたよりも効果があったので
  更新しました。
  CPS2で微妙に60fpsに届かなかった、Street Fighter IIXのT.Hawkステージなども
  60fpsで動作するようになったようです。
  (もちろん、333MHzでVsync Off/Raster Effects Offが前提ですが)
  Street Fighter ZeroあたりはRaster Effects Onでも十分遊べるかも。
  MVSはメモリが足りなさすぎてどうにもならんのでシラネ。

-------------------------------------------------------------------------------
1.13
・CPS2の一部ゲームで、コインが投入できなくなっていたバグを修正。
  (ver.1.02から発生していたと思われます。)

-------------------------------------------------------------------------------
1.12
・ステートデータのバージョンチェックを追加。(ソースの統合時に一時削除して、
  そのまま放置したままになってました。)

-------------------------------------------------------------------------------
1.11
・テクスチャのVRAMへの登録処理をちょっと変更。

-------------------------------------------------------------------------------
1.10
・CPS2の描画処理をGUのDepthBufferを使用するように変更。
  gigawing、progear、dimahoo等の画面全体でマスキング処理が行われるゲームで
  若干速度が向上したかもしれません。
・CPS2のいくつかのゲームでマスキング描画が正しく行われていない部分があったため、
  キャッシュファイルのマスキング用フラグを更新。
・CPS2のタイマ処理を簡略化。
・CPS1/CPS2でコインカウンタもステートデータに記録するように変更。
・MVSでsfixのメモリを2回確保していたため、メモリリークが発生していたバグを修正。
・テクスチャをswizzle textureに変更。
・C68K、CZ80を更新。
・PSPのビデオ処理関数を若干変更、それに伴う処理も変更。
・使用していないテーブル等を削除し、空きメモリを少し増やしました。
・メニューの綴りを一部修正。
・デバッグ用の余分なコードが混入していたので削除。
・一部の関数名を変更。(処理はそのまま)

-------------------------------------------------------------------------------
1.02
・正式なものとしては最終リリースとなります。
  以降は現在未使用のPSPの機能の実験のみ行う予定です。(主にCPS2で実験)
