スプライトROM 変換ツール ver.2.2.0 (MVSPSP用)

かなり手抜きですが、変換ツールです。

---------------------------------------------------------------------------
無圧縮キャッシュをまとめて作成する場合 (推奨)

1.mvsconv_all.batをダブルクリックして起動してください。

2.フォルダ選択ダイアログが表示されるので、ROMのフォルダを選択してください。

3.変換作業を開始します。
  ファイルが見つからなかい場合はスキップしますので、終わるまで待ちましょう。

4.cacheフォルダ内に ゲーム名_cacheというフォルダが作成されますので、
  /PSP/GAMES/mvspsp/cache ディレクトリにコピーしてください。
  元のROMファイルも/PSP/GAMES/mvspsp/romsにコピーしてください。

5.ゲームを実行すれば、多分動作します。

---------------------------------------------------------------------------
無圧縮キャッシュをゲームを指定して作成する場合

1.mvsconv.batをダブルクリックして起動してください。

2.ファイル選択ダイアログが表示されるので、変換したいゲームのzipファイルを
  選択してください。

3.変換作業を開始します。
  なお、クローンセットの場合は、親ROMセットも同じフォルダ内にある必要が
  あります。

4.cacheフォルダ内に ゲーム名_cacheというフォルダが作成されますので、
  /PSP/GAMES/mvspsp/cache ディレクトリにコピーしてください。
  元のROMファイルも/PSP/GAMES/mvspsp/romsにコピーしてください。

5.ゲームを実行すれば、多分動作します。

---------------------------------------------------------------------------
上記がうまくいかない場合

1.mvsconv.batに変換したいゲームのzipファイルをドラッグ＆ドロップして
  ください。

2.変換作業を開始します。
  なお、クローンセットの場合は、親ROMセットも同じフォルダ内にある必要が
  あります。

3.cacheフォルダ内に ゲーム名_cachというフォルダが作成されますので、
  /PSP/GAMES/mvspsp/cache ディレクトリにコピーしてください。
  元のROMファイルも/PSP/GAMES/mvspsp/romsにコピーしてください。

4.ゲームを実行すれば、多分動作します。

---------------------------------------------------------------------------
romcnv_mvs.exeのコマンドライン引数について

・引数の順番は問いません。
・パスを渡す場合は、フルパスで指定してください。ダブルコーテーションで
  前後を挟んだほうが良いです。

-all: 起動後にダイアログで指定したフォルダにあるファイルで、対応するゲーム
      を全て変換します。指定されたパスは無視します。

-batch: バッチ処理用のオプションです。変換後に一時停止しなくなります。


記述例) garouとkof2002とkof2003を変換。
        kof2003が終わるまで一時停止しない。

romcnv_mvs.exe "D:\roms\garou.zip" -batch
romcnv_mvs.exe "D:\roms\kof2002.zip" -batch
romcnv_mvs.exe "D:\roms\kof2003.zip"

---------------------------------------------------------------------------

Linux等で使用する場合
---------------------

ver.2.0.6よりLinux等でも一応変換できるようにしました。
環境に依存するため、バイナリでの提供はありません。

ソースコードを適当なディレクトリに展開し、

make -f makefile.mvs UNIX=1

とすることで、Unix系OS用のバイナリを作成します。

使用方法は基本的にWindows版と同じですが、ダイアログでの指定は出来ないので、
コマンドラインで引数を指定する必要があります。

以下にLinuxのbash上で使用する例を書いておきます。

例) /home/username/roms内のkof99.zipを変換する場合。

./romcnv_mvs /home/username/roms/kof99.zip

例) /home/username/roms内の全てのromを変換する場合。

./romcnv_mvs /home/username/roms -all


romのディレクトリがromcnv_mvs本体より下の階層にある場合は以下のようにして
指定することも可能です。

romcnv_mvsは /home/username/romcnv-2.0.6にあるとする。

例) /home/username/romcnv-2.0.6/roms内のkof99.zipを変換する場合。

./romcnv_mvs ./roms/kof99.zip

例) /home/username/romcnv-2.0.6/roms内の全てのromを変換する場合。

./romcnv_mvs ./roms -all


---------------------------------------------------------------------------
更新履歴

- ver.2.2.0 -
 ・キャッシュファイル自体には変更はありませんが、エミュレータのバージョン
   更新に伴い、キャッシュファイルのバージョンもV22に更新されているため、
   再度変換が必要です。
 ・rominfo.mvsの形式の変更に伴い、処理を変更。
 ・使用するメモリが16MB以下のゲームはキャッシュを作成しないように変更。
 ・-allオプションの処理を変更。ROMセットの親子関係を考慮して不要なキャッシュ
   ファイルを作成しないようにしました。これにより、全てのゲームのキャッシュを
   作成した場合のファイルサイズの合計が、7.8GB程度から3.9GB程度に減少しました。

   ※-allオプションを指定しない場合は従来と同じく必要なキャッシュファイルを
     全て作成します。

- ver.2.0.6 -
 ・フォーラム等で動作しないという報告が目に付いたので、作り直してみました。
 ・ついでにMAME 0.112u2で追加/変更されたゲームに対応。
 ・bootleg setのキャッシュファイルも作成できるように変更。
 ・romcnv_cps2.exeと同様に-allで全ゲームの一括変換に対応。
 ・C/S/V rom以外はエミュレータ本体で復号処理を行うように変更。
   構造自体は変更していないので、ver.2.0のキャシュはMVSPSP ver.2.0.6でも使用
   できますが、ver.2.0.6のキャッシュはMVSPSP ver.2.0以前ではファイルが足りなく
   なるため使用できないので注意してください。
 ・Linux等のUNIX系OSのコンソールで動作するバイナリをコンパイルできるようにしました。

- ver.2.0 -
 ・バージョン表記を本体に合わせました。
 ・キャッシュにバージョン情報を埋め込むように変更。
